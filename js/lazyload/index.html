<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>懒加载图片</title>
</head>
<body>
    <!-- 网页在渲染的时候
    http请求数量 chrome 性能最好 同时并发的请求数量十几个
    将图片下载 放到DOM Ready事件之后 将有效提升网页打开速度
    占位图片 
    优化前 n张照片 url不一样 http请求数量
    优化后 图片上的http 数量只有1
    如果url一样 不会重复发送 -->
    <img class="pic1" src="http://static.youku.com/yk/vmanage/img/manage/video/mask.d53611efc6.png" origin_src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1525426928952&di=22e38ac3ae76331fb5b2ab863e8fb386&imgtype=0&src=http%3A%2F%2Fi5.hexunimg.cn%2F2015-02-12%2F173318129.jpg" alt="">
    <img src="http://static.youku.com/yk/vmanage/img/manage/video/mask.d53611efc6.png" origin_src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1525426928950&di=fa0b70a623ffb91c707434ba307496e0&imgtype=0&src=http%3A%2F%2Fimg3.a0bi.com%2Fupload%2Fttq%2F20161029%2F1477727278759.jpg" alt="">
    <script src="./lazyload.js"></script>
    <script>
        // 已经是用户看到网页了，dom ready
        // 优化图片下载 将其推后
        window.onload = function(){
            const img = document.querySelector('.pic1');
            LazyLoadImage.setSrc(img);
            // 懒加载图片
            // 在页面打开后 重新下载图片
            // const img = document.querySelector('.pic1');
            // // origin_src 自定义属性
            // const url = img.getAttribute('origin_src');
            // // img.setAttribute('src',url);
            // // img.src = url;
            // // console.log(url);
            // // 图片不要直接url设置过去
            // const oImg = document.createElement('img');
            // oImg.style.display = 'none';
            // document.body.appendChild(oImg);
            // // 图片的下载是异步的 图片有大小 
            // oImg.onload = function(){
            //     // 幕后工作者 已经下载了图片 
            //     // url 一旦下载 在浏览器缓存(静态文件)文件
            //     img.src = url;
            // }
            // oImg.src = url;
        }
    </script>
</body>
</html>